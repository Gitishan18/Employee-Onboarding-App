<template>
    <lightning-card title="Employee Onboarding Dashboard" icon-name="standard:employee">
        <div class="dashboard-container">
            <div class="custom-table-wrapper">
                <table class="slds-table slds-table_bordered custom-table">
                    <thead>
                        <tr class="slds-text-title_caps">
                            <th>Name</th>
                            <th>Department</th>
                            <th>Joining Date</th>
                            <th>Onboarding Status</th>
                            <th>Background Check</th>
                            <th>Action</th>
                            <th>View Tasks</th>
                        </tr>
                    </thead>

                    <tbody>
                        <template for:each={employees} for:item="emp">
                            <tr key={emp.id}>
                                <td>
                                    <div class="emp-name">
                                        <lightning-icon icon-name="standard:contact" size="x-small" class="emp-icon"></lightning-icon>
                                        <span>{emp.name}</span>
                                    </div>
                                </td>
                                <td>{emp.department}</td>
                                <td>{emp.joiningDate}</td>

                                <td>
                                    <span class={emp.onboardingBadgeClass}>
                                        {emp.onboardingStatus}
                                    </span>
                                </td>

                                <td>
                                    <span class={emp.bgBadgeClass}>
                                        {emp.backgroundStatus}
                                    </span>
                                </td>

                                <td>
                                    <lightning-button
                                        label={emp.actionLabel}
                                        variant="brand-outline"
                                        class="action-btn"
                                        data-empname={emp.name}
                                        onclick={handleAction}>
                                    </lightning-button>
                                </td>

                                <td>
                                    <lightning-button
                                        label="View Tasks"
                                        variant="neutral"
                                        icon-name="utility:preview"
                                        class="view-task-btn"
                                        data-empid={emp.id}
                                        onclick={handleViewTasks}>
                                    </lightning-button>
                                </td>
                            </tr>
                        </template>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Modal for tasks -->
        <c-onboarding-tasks-modal></c-onboarding-tasks-modal>
    </lightning-card>
</template>
